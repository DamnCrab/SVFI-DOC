---
title: 使用技巧与预设
date: 2022-08-19 15:17:25
permalink: /pages/18309a/
---



## 推荐任务预设

对于**压制模式**，2K以上分辨率**务必**使用H265或ProRes编码

### 社区版

#### 动漫

| 场景           | 去重模式              | 压制模式          | 光流设置  | 补帧模型 |
| :---: | :---: | :---: | :---: | :---: |
| 质量           | 单一识别 0.8          | CPU H.265 medium  | 光流 0.5  | rife 2.3 |
| 常规           | 单一识别 0.8 / 一拍二 | CPU H.265  fast   | 光流 0.5  | rife 2.3 |
| 速度（N卡）    | 单一识别 0.8          | NVENC  H.264 slow | 光流 0.5  | rife 4.2 |
| 极致速度（N卡）| 单一识别 0.8          | NVENC  H.264 slow | 光流 0.25 | rife 4.2 |

#### 真人

| 场景    | 去重模式 | 压制模式         | 光流设置 | 补帧模型 |
| :---: | :---: | :---: | :---: | :---: |
| 质量    | 关闭去重 | CPU H.265 medium | 光流 1.0 | rife 2.3 |
| 常规    | 关闭去重 | CPU H.265 fast   | 光流 0.5 | rife 2.3 |
| 速度    | 关闭去重 | NVENC H.264 slow | 光流 1.0 | rife 4.2 |
| 极致速度| 关闭去重 | NVENC H.264 slow | 光流 0.5 | rife 4.2 |

### 专业版

#### 动漫

:::warning
务必确认自己的播放器可以播放 H.265 10bit，
否则选择 H.264 veryslow
:::

| 场景     | 去重模式     | 压制模式                  | 光流设置  | 补帧模型           |
| :---: | :---: | :---: | :---: | :---: |
| 极致质量 | 一拍二       | CPU  H.265 10bit veryslow | 光流  0.5 | IFU|
| 质量     | 一拍二       | CPU H.264 veryslow        | 光流 0.5  | rpr v7 2.3   |
| 常规     | 一拍二       | CPU H.264 slow            | 光流 0.25 | official 2.3 |
| 速度     | 一拍二       | NVENCC H.264 slow          | 光流 0.5  | rife 4.x|
| 极致速度 | 单一识别 0.8 | NVENCC H.264 slow          | 光流 0.25 | rife 4.x|

#### 真人

:::warning
务必确认自己的播放器可以播放 H.265 10bit，
否则选择 H.264 veryslow
:::

| 场景      | 去重模式 | 压制模式                 | 光流设置 | 补帧模型 |
| :---:  | :---: | :---: | :---: | :---: |
| 极致质量  | 关闭去重 | CPU H.265 10bit veryslow | 光流 1.0 | rife 2.3 |
| 质量      | 关闭去重 | CPU H.264 veryslow       | 光流 1.0 | rife 2.3 |
| 常规      | 关闭去重 | CPU H.264 slow           | 光流 0.5 | rife 2.3 |
| 速度      | 关闭去重 | NVENCC H.264 slow         | 光流 1.0 | rife 4.2 |
| 极致速度  | 关闭去重 | NVENCC H.264 slow         | 光流 0.5 | rife 4.2 |

## 使用技巧

- SVFI中，大部分选项不是“数字”越高效果越好（如转场参数，去重参数，CRF，光流尺度，补帧模型）。如果不懂建议严格按照说明或**默认**来选择。
- **对于每个带有（？）或（！）的选项，鼠标悬浮在其上方会显示相应解释。**
- 如果**追求质量**，全部**选择常规以上的预设**；**速度**选项相对效果差。
- 对于CRF如果没有相应的知识，就默认选择参数16或者通过百度学习相关知识。
- 鼠标悬浮在**转场选项**上，可以看到**相应说明**。转场选项通常**参数设置在12** 即可。
- 去重选项只有2d 动漫需要使用去重选项3d，真人一律选择不去除重复帧。
- 社区版：单一识别功能中，根据用户反馈**参数值设置在0.8-1.0效果较好**。
- 专业版：功能**1拍2**更保守，软件**错误更少**。功能**1拍3及以上**更激进更丝滑，但是**问题和错误经常更多**（如画面消失等）。
- 如果没有特殊情况，建议您选择功能1拍2，其他选项参数全部默认就可以。
- 在svfi 补帧时，一般情况下会占用CPU（选用CPU 编码时）和n 卡的cuda。如果CPU一直满载，而cuda 占用波动极大时，则CPU为瓶颈。此时可以**调整压制预设或者更换编码器以加快速度**（如CPU H.265 very slow 调整为fast，CPU H.264 slow 调整为NVENC H.264 slow）。
- 注意如果CPU 不为瓶颈，推荐选用**更佳的编码器和预设**。因为显卡的cuda 决定了补帧速度，CPU 决定了编码速度。补帧速度只能通过**更换更好的显卡来提升**，但是**编码速度可以考虑通过选择速度更快**，质量稍逊的编码器和预设。
- CPU 编码为软编，软编**普遍速度慢文件小、质量好**。
- NVENC 、QSV、VCE 为硬件编码，其中NVENC 使用nVidia显卡，QSV 使用intel 核显，VCE使用AMD显卡，硬件编码的特点，速度快、文件大，在低码率小文件的情况下，质量比CPU 差。
- 硬编优先选择NVENC，在N卡硬编预设（您可以鼠标悬浮看说明）这一项中，可以自行在<https://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new>查询自己显卡的硬编预设,20系和30系一般都为7th+。
- 硬编会对显卡有一定负载，如果选用NVENC 出现Broken Pipe 错误，则**降低N卡硬编预设或者换用核显编码QSV**。如果仍有同样错误，则**使用CPU**。

- 超分补帧建议：
如果使用cugan，esrgan等算法进行超分，建议超分补帧分开进行，否则显存溢出(`CUDA out of memory`问题会很多)
如果你只有1张可用于超分补帧的显卡，建议开始任务之前关闭其他有可能占用显存的软件。如果你不嫌麻烦，由于Windows桌面本身也会占用一定的显存，如果你的电脑有核显，可以重启电脑进BIOS设置核显输出，并把显示器信号插头插在主板上，再开机使用SVFI，这样可以获得最大的可使用显存，并且超分补帧的处理速度会更快一点。
- 压制设置的建议：
如果不是压制组对压制十分严格，可使用硬件编码(NVENC,VCE,QSV等)以避免CPU压制瓶颈。CPU瓶颈会导致显卡占用率下降
CRF设置为16，其余的按上面说的来就行
- 补帧最常用的模型：
使用2.3模型
- 动漫超分常用的模型：
使用CUGAN模型
