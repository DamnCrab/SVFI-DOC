---
title: 高级内容详解
date: 2022-08-19 15:05:38
permalink: /pages/052617/
---

高级设置共有七大栏目

<div align=center>
<img src="/Statics/UserGuide/26.png"  width=300>
</div>

## 工作状态恢复

<div align=center>
<img src="/Statics/UserGuide/13.png"  width=300>
</div>

- 自动寻找进度

> 当您遇到任务中途断电或者其他以外情况终止任务导致程序退出的情况，可以通过点击 “**自动寻找进度**”来恢复上次的区块位置。
  
::: warning
点击此按钮前请您先点击要恢复进度的任务条目。随后点击“**一键补帧**”，软件将弹窗向您确认补帧起始位置。
:::

<div align=center>
<img src="/Statics/UserGuide/6.png"  width=300>
</div>

- 起始补帧时刻和结束补帧时刻

> 可以选择需要补帧的时间段

<div align=center>
<img src="/Statics/UserGuide/7.png"  width=300>
</div>

> **输入格式:    小时:分钟:秒**

- 起始区块计数和起始输入帧数

> 可用于手动恢复补帧进度

- 起始区块计数 = 输出文件夹中导出的**最后一个chunk数 + 1**（例如图中的chunk-001，应将起始区块计数为**1+1=2**）
- 起始输入帧数 = 输出质量设置（渲染设置）中`单一输出区块大小 * (起始区块计数 - 1)`

<div align=center>
<img src="/Statics/UserGuide/8.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/9.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/10.png"  width=300>
</div>

如上图，一个视频 chunk有1000帧

- 复原至原点

>可将起始区块和起始输入帧数归为原值，**从零时刻开始补帧。**

<div align=center>
<img src="/Statics/UserGuide/11.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/12.png"  width=300>
</div>

- 风险模式

>当需要恢复任务进度时，开启此项可以**减少程序恢复进度所需的时间**，但开启可能会造成**音画不同步**，**不推荐开启**。

<div align=center>
<img src="/Statics/UserGuide/13.png"  width=300>
</div>

## 转场识别

- 开启转场识别

>识别场景切换
为了在补帧过程避免场景切换时产生**果冻**效应，建议您开启转场识别。
在勾选了开启转场识别之后，下方的参数值一般选择12。
如果在补帧过程中您发现转场错判较多，可以考虑调节至15；面对转场漏判较多的情况时可以考虑将参数值调到9，参数值的范围一般为9-15。

**如图：转场漏判产生果冻**

<div align=center>
<img src="/Statics/UserGuide/14.png"  width=300>
</div>
<div align=center>
<img src="/Statics/UserGuide/15.png"  width=300>
</div>

- 使用固定转场识别(使用固定的阈值判断每一帧之间的区别以识别转场)

::: warning
不建议您开启这项功能
:::

>使用这项功能时，需要同时开启“开启转场识别”功能。
如果补帧视频是实景拍摄视频，参数值建议设置为40，如果补帧视频为动漫，参数值建议设置为50或60。

## 去除重复帧(动漫流畅度优化)

<div align=center>
<img src="/Statics/UserGuide/16.png"  width=300>
</div>

- 不需要去除重复帧

>不使用该项功能

- 单一识别

>（在处理动漫补帧时可能会使用到此功能）用于**缓解*1拍N**情况对画面造成的**卡顿感**，参数设置一般为 0.8。如果参数值设定过高，**导致软件补帧难度过大超出AI补帧的能力范围**，会产生**扭曲严重**的情况。如果补时间较长的动漫，参数值建议设定为0.1或者0.01（否则会出现人物“嘴巴合不上”的画面问题）。

  **(该除重结果最暴力，无法自动识别动漫作图模式)**

- 去除1拍2：该功能是专为动漫抽帧设计的功能，请您根据自己的需要来选择开启或关闭（选择性开启）。

> 由于现阶段AI补帧在动漫补帧方面能力有限，选择去重将加大帧间运动幅度，导致补帧时产生画面扭曲，请自行对于每个输入视频控制变量多次试验选择最好的除重模式。

:::warning
建议您谨慎选择去重模式，对于一般的补帧操作开启去1拍2功能就能满足需求
:::

- 转场使用帧混合
>在软件补帧的过程中场景切换时，原本采用**帧复制**完成；勾选此选项后，使用**帧混合**来代替原本的帧复制。

- 输出转场帧
>此功能可以将识别到的转场帧和转场帧的前一帧输出保存在导出文件夹中。

## 输出分辨率设置

- 输出文件分辨率：

>在进行补帧之前您需要根据**预设**以及自己的要求，先对**画面的分辨率进行调整**，之后再进行AI补帧操作。

- 调节黑边长度：

>**本软件可以裁剪调节视频中的黑边，在使用之前需要根据示例图片手动设置宽高。**

<div align=center>
<img src="/Statics/UserGuide/17.png"  width=300>
</div>
<div align=center>
<img src="/Statics/UserGuide/18.png"  width=300>
</div>

- 使用AI超分：

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>这个功能是此软件的核心部分可以使视频画面更加清晰，目前支持**waifuCuda(自训练) ，waifu2x，realESR**等超分算法。**通过使用此功能，您操作的视频会更加清晰，让您有更好的观看体验。**

<div align=center>
<img src="/Statics/UserGuide/19.png"  width=300>
</div>

- 对于超分模型的介绍见选项悬浮说明:
  
- 模型放大倍数:

>此处表明超分模型**单次计算能将原分辨率放大的倍数**。

- 转移分辨率比:

>此功能会先按照用户设置的百分比缩放原视频，之后再进行超分操作。

>**例:原视频1920x1080，转移分辨率比50%， 模型放大倍数4x**

>运行过程: 1920x1080 -> 960x540(下采样) -> 3840x2160(超分辨率)

- 切割块大小:

>对于**CUDA系超分模型**（WaifuCuda，RealESR），由于消耗显存较多，在输入前会对输入画面进行切割后超分，随后再拼接。
不同切割大小会让超分算法有不同的表现，如切割大小较小时输出画面原本应该虚化的远景会更加锐利而显得不太自然。
请仔细阅读选项说明，**将鼠标悬浮在(!)上阅读说明**
此功能带有显存大小制定的预设，用户也可以自定义调节。

<div align=center>
<img src="/Statics/UserGuide/20.png"  width=300>
</div>

- 超分使用半精度:

>此功能推荐开启，开启后操作过程中可大幅度减小显存占用，对画面质量影响较小，但可能减慢超分速度。

## 输出质量设置（压制参数质量）

<div align=center>
<img src="/Statics/UserGuide/21.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/22.png"  width=300>
</div>

- 渲染质量CRF

>此功能用于调整视频导出时的画面质量亏损， 与**输出码率呈正相关**。使用不同压制编码和压制预设均会对CRF产生影响。

**CRF数值参数一般为16**，此时肉眼无损；对于H.265编码，码率会有明显下降。**请以肉眼所见画面质量来评定CRF数值大小是否合理。**
如果是作为**收藏CRF数值参数可设为12**。**CRF的数值越小，操作过程之后对画面损失就越小，同时导出的成品视频体积（码率）越大。**

  **注意：相同数值，不同编码器的输出质量不同**

- 目标码率

>作为替代渲染质量CRF的可选项，和Adobe Premiere Pro，达芬奇的设置标准基本相同

- 编码器

  - **CPU**
  选择此项压制，**质量最高，但CPU占用率也最高**。**CPU的性能优劣**决定补帧过程中是否会阻塞补帧（导致显卡占用下降），以及最后操作完成的**时间长短**。
  - **NVENC**
  此项仅**供支持NVENC功能的NVIDIA显卡**选用，如果您的显卡并**不支持NVENC功能请不要选择此项**。
  请自行查阅安装目录下的NVIDIA NVENC Gen.pdf查阅自己的显卡是否支持NVENC
  - **QSV**
  此项仅支持有**Intel核显**的用户选用(例如Intel UHD 630)，非此类用户不要选用。
  
  ::: tip
  以下编码器需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
  :::

  - **NVENCC**
  **NVENCC**为**NVENC**的优化版本，处理速度更快，作品质量更好。
  - **QSVENCC**
  **QSVENCC**为**QSV**的优化版本，完成任务的效率更高。

- 选择压制编码

>对于此项功能的选择，需要您具备一定的**视频压制常识**。

::: warning 如您不熟悉压制，请您谨记以下规则：

- HDR输出务必选择**H.265 10bit**编码
- 2K以上分辨率务必选择 **H.265** 编码（尤其是4K，8K分辨率）
- 如果H.264、H.265编码均出现问题，使用**ProRes**编码。此编码输出最贴近肉眼无损，码率极大，是用于剪辑工作的中间编码格式。
- 推荐使用H.265 fast编码或ProRes编码
:::
- 选择压制预设

> 此栏目下对应的项目，英文含义**速度越快的作品质量越低，反之质量越高**。

- 高精度优化工作流

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>若CPU性能过剩，建议您开启此项功能，可**解决多数画面颜色偏差问题**，并可最大程度解决HDR视频压制产生的色偏问题。此功能会**加大CPU负担**，甚至影响补帧速度。请您**酌情选择**。

- 快速拆帧

>快速拆帧操作可以**减轻解码压力**，但可能会**导致画面色偏问题**。

- 硬件解码

>可以**减轻CPU解码压力**，但可能会在一定程度上**降低画面质量**，并在显存紧张时导致补帧模块**爆显存**。

- 开启反交错

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>使用**ffmpeg**对输入的**交错视频**进行反交错处理。

- 快速降噪
::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>此栏目下的“快速”选项如果不是特殊需要，请保持关闭，否则会**减缓任务处理速度**。

::: tip
推荐自行控制变量试验此选项是否对画面质量提升有帮助。

与高精度优化工作流不兼容
:::

- 默认编码方案

> 此功能可以提高压制兼容性，但是压缩率和质量可能会下降。

:::tip
启用此功能可以解决大多数broken pipe问题。
:::

- 音频二压为AAC

> 将视频中的所有音频轨道压制为**640kbps的aac格式**。

- 保留中间文件(chunks)

> 补帧完成后**不删除中间生成的chunk视频**。

- 指定编码线程数

> 当您的编码器选择为CPU时，可以**稍微提高CPU占用率以加快渲染速度**。

- 源HDR(需要原视频支持)

  - **Auto**
  自动识别(检测到HDR内容会自动切换到CPU压制)。
  - **Custom HDR**
  自定义HDR （不会写入HDR源数据）。
  - **HDR10**
  基本， 普及的HDR格式。
  - **HDR10+**
  HDR10+（仅支持按补帧倍率补帧，不能自定义输出帧率）。
  - **Dolby Vision**
  杜比视界 （仅支持按补帧倍率补帧，不能自定义输出帧率）。
  - **HLG**
  索尼新科技（便携HDR工作流程）。

- 一键HDR

> 将SDR转换为HDR10+。

## 其余渲染设置

<div align=center>
<img src="/Statics/UserGuide/23.png"  width=300>
</div>

- 手动指定缓冲区内存大小

> 若运行内存紧张（16G以下），建议**手动指定缓冲区内存的大小**为2~3G避免**爆内存**错误。

- 单一输出区块大小

> 对于补帧和压制任务，每渲染数量为该值的帧，将输出一个不带音频的小片段，以方便您**预览效果**。片段会生成在您设置的输出文件夹中，**并在补帧或压制任务完成后合并为一个文件**。

- 时间重映射

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

> 此功能用于制作“慢动作”素材。例如设置输出帧率为120帧，时间重映射设置为60帧，输出效果等同于50%**播放速度慢放**。其他情况依次类推，您可以自己设置输出帧率，**参数值支持小数**。

  **（动漫素材请尽可能用PR等软件降低原视频的帧率来完成重复帧的去除，以避免重映射后卡顿。原视频帧率一般降低到8或12帧）**

- 自定义ffmpeg压制参数

> 此功能为专业选项（注意输入项数必须为**偶数**）。

## 补帧设置

### N卡模式
  
- **半精度模式**

> **若显存紧张**，可以尝试开启此功能。
  此功能可能导致**视频花屏、画面抖动等问题**，如果任务过程中预览chunk发现这些问题，则不建议开启。
  与3+模型不兼容

- **反向光流**
  
> 该功能可使画面在一定程度上**更加丝滑**。
  
- **光流尺度**
  
> 对于纹理较多的视频建议选择1.0。
  运动速度较大的视频可以调节至0.25，0.5等。
  **提高光流尺度可以减少果冻和消失的问题。**
  
- **TTA模式**
  
::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

> 开启该功能可以**减少画面果冻，减小字幕抖动，减弱物体消失的问题**。使得画面更加**平滑舒适**
  **需要额外消耗补帧时间，同时部分补帧模型不支持此功能**。
  
- **交错补帧**
  
> 此功能可**解决补帧显存崩溃的问题**，**减小补帧占用**，同时可能会**降低画面质量**。
  恰当选择此项可以让小显存显卡补超大分辨率（如4G补8K）
  
- **使用的补帧模型文档见选项悬浮说明**

- **用于补帧的N卡**
  
> 如果您的设备上有多张显卡，需要指定用哪张N卡补帧。
  
- **双向光流**

>对于official_3.x系列的模型能够起到**大幅度提升补帧质量的作用（减少硬字幕抖动等）**，但是会降低速度 ，但**与official_4.x系列模型不兼容**。
  
- **动态光流尺度**
  
::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

> 在补帧过程中动态选择光流尺度，可**减少物体消失问题**，但可能会引入**画面抖动**。
  
### A卡独显和核显模式
  
- **光流尺度**

>此功能的参数设置只有0.5和1.0，**详细信息请参考N卡中的相同功能解释**。
  
- **用于补帧的模型文档见选项悬浮说明**

- **补帧线程数**
  
>不可用
  
- **选择的GPU**
  
> 0代表设备0，1代表设备1。

**（输出文件名将带有反应上述设置的缩写）**

在**标题栏**的**快速教程**中可以看到具体信息

<div align=center>
<img src="/Statics/UserGuide/24.png"  width=300>
</div>

## 自定义预设栏

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

- 基于当前设置新建预设

> 命名当前的预设之后创建就可以新建预设。

- 移除当前预设

> 删除当前选中的预设。

- 应用指定预设

> 加载之前保存的预设，自动载入参数。

## 工具箱

- 视频转换 GIF 动图

> 生成高质量的 GIF 动图。

- 循环动图

> 默认打开

- 拆帧选中输入到输出文件夹

> 将选择的文件拆成图片序列

- 对输入使用输出质量设置内的指定参数压制

> 压制视频

- 音视频合并（混流）
>
> - 在第一个输入框输入装有待混流视频轨的文件**绝对路径**，
> - 在第二个输入框输入装有待混流音频轨的文件**绝对路径**，
> - 在第三个输入框输入混流后输出文件的**绝对路径**，
> - 点击**开始合并**即可混流第一个文件的视频轨和第二个的视频轨至指定的输出文件路径
>
> 等价于`ffmpeg -i <1> -i <2> -map 0:v:0 -map 1:a:0 <3>`

**移动鼠标到各选项上方可以看到具体说明**

## 标题栏

<div align=center>
<img src="/Statics/UserGuide/27.png"  width=300>
</div>
- 设置
> 偏好设置  

<div align=center>
<img src="/Statics/UserGuide/25.png"  width=300>
</div>

- 多任务休息间隔

> 每隔 X 小时让显卡休眠若干分钟以避免显卡过热

- 补帧任务完成后

> 可以选择一些补帧完成后的自动操作  

- 不可用功能

> 强制使用 CPU 进行补帧（已弃用）  

- 开启专家模式

> 默认开启  

- 开启任务前参数文本预览

> 点启动补帧之前会先弹出弹框，可以浏览一遍确定参数设置正确后进行补帧  

- 任务完成后清空任务列表

> 列表中所有任务完成后清理队列  

- 使用全局设置

> 对所有任务进行统一参数设置  

- 强制退出

> 强制结束软件进程(若关闭软件后发现显存仍在占用，则建议开启此项)

- 原味压制模式

> 单独对任务进行压制时，不开启重复帧去重的操作。

- 开启预览

> 补帧时开启预览窗口

- 开启安静模式

> 软件启动时不启动黑色窗口  

- 窗口置顶（目前不可用）

> 将窗口置于顶层
