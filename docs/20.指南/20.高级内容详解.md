---
title: 高级内容详解
date: 2022-08-26 15:48:00
permalink: /pages/052617/
---

高级设置共有七大栏目

<div align=center>
<img src="/Statics/UserGuide/26.png"  width=300>
</div>

## 工作状态恢复

<div align=center>
<img src="/Statics/UserGuide/13.png"  width=300>
</div>

- 自动寻找进度

>当遇到任务中途断电或者其他以外情况终止任务导致程序退出的情况，可以通过点击 “**自动寻找进度**”来恢复上次的区块位置。
  
::: warning
点击此按钮前请您先点击要恢复进度的任务条目。随后点击“**一键补帧**”，软件将弹窗向您确认补帧起始位置。
:::

<div align=center>
<img src="/Statics/UserGuide/6.png"  width=300>
</div>

- 起始补帧时刻和结束补帧时刻

>可以选择需要补帧的时间段，此功能不支持任务进度恢复

<div align=center>
<img src="/Statics/UserGuide/7.png"  width=300>
</div>

>**输入格式:    小时:分钟:秒**

::: warning
此功能不支持进度恢复
:::

- 起始区块计数和起始输入帧数 (自动寻找进度失败或需手动指定补帧起始位置时用)

>可用于手动恢复补帧进度

- 起始区块计数 = 输出文件夹中导出的**最后一个chunk数 + 1**（例如图中的chunk-001，应将起始区块计数为**1+1=2**）
- 起始输入帧数 = 输出质量设置（渲染设置）中`单一输出区块大小 * (起始区块计数 - 1)`

<div align=center>
<img src="/Statics/UserGuide/8.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/9.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/10.png"  width=300>
</div>

如上图，一个视频 chunk有1000帧

- 复原至原点

>可将起始区块和起始输入帧数归为原值，**从零时刻开始补帧。**

<div align=center>
<img src="/Statics/UserGuide/11.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/12.png"  width=300>
</div>

- 风险模式

>当需要恢复任务进度时，开启此项可以**减少程序恢复进度所需的时间**，但开启可能会造成**音画不同步**，**不推荐开启**。

<div align=center>
<img src="/Statics/UserGuide/13.png"  width=300>
</div>

## 转场识别

- 开启转场识别

>识别场景切换

>为了在补帧过程避免场景切换时产生**果冻**效应，建议您开启转场识别。

>在勾选了开启转场识别之后，下方的参数值一般选择12。

>如果在补帧过程中您发现转场错判较多，可以考虑调节至15；面对转场漏判较多的情况时可以考虑将参数值调到9，参数值的范围一般为9-15。

**如图：转场漏判产生果冻**

<div align=center>
<img src="/Statics/UserGuide/14.png"  width=300>
</div>
<div align=center>
<img src="/Statics/UserGuide/15.png"  width=300>
</div>

- 使用固定转场识别(使用固定的阈值判断每一帧之间的区别以识别转场)

::: warning
不建议您开启这项功能
:::

>使用这项功能时，需要同时开启“开启转场识别”功能。

>如果补帧视频是实景拍摄视频，参数值建议设置为40，如果补帧视频为动漫，参数值建议设置为50或60。

- 转场使用帧混合

>传统方法是复制前一帧，作为转场帧，该方法是混合前后两帧 (叠影子)

- 输出转场帧

>输出视频中是转场的帧 (附带判断信息)

## 去除重复帧(改善视频流畅度)

<div align=center>
<img src="/Statics/UserGuide/16.png"  width=300>
</div>

- 不去除重复帧

>不使用该项功能

- 单一识别：在对动漫视频或带重复帧的实拍视频进行补帧时可能会使用此功能

>用于缓解**1拍N**动漫作画对画面造成的**卡顿感**，或实拍视频的卡顿现象，参数设置一般为 0.5。如果参数值设定过高，**导致软件补帧难度过大超出AI补帧的能力范围**，会产生**画面扭曲严重**的情况。

>如果补时间较长的动漫，参数值建议设定为0.2或者0.1，否则会出现人物“嘴巴合不上”的画面问题。

>该除重复帧模式也是原理最简单的模式，但使用起来也相对稳定

- 去除1拍N：该功能是专为动漫抽帧设计的功能，请您根据自己的需要来选择开启或关闭。

>去除1拍2：部分素材表现较好，但多数情况下无法彻底的除去重复帧，容易引入卡顿。

>去除1拍3：去除1拍2和1拍3，常用于动漫变速补帧，动漫剪辑，除重较彻底，流畅度MAX，但会增加一定的果冻。

>去除1拍4：...，依此类推

:::warning
由于现阶段AI补帧在动漫补帧方面能力有限，选择去重将加大帧间运动幅度，导致补帧时产生画面扭曲，请自行对于每个输入视频控制变量多次试验选择最好的除重模式。

建议您谨慎选择去重模式，如果对动漫全片进行补帧，不建议开启去除重复帧。
:::

## 输出分辨率设置

- 输出文件分辨率

>先对画面的分辨率进行调整，之后再进行补帧（有预设） 

- 黑边长度

>可用于裁剪视频中的黑边，需要手动指定宽高 

>例：原片3840x2160, 实际画面分辨率3840x1620, 则在此处的**高**填270, 计算方式(原片高-实际高)÷2, 并在输出分辨率预设选择custom, 填入3840 1620。

>若使用AI超分, 则原片指输出视频

>例：输入视频1920x1080,实际分辨率1920x800, 超分2倍输出3840x1600, 黑边高填280, 输出分辨率custom 3840 1600。

- 处理后补全黑边

>切除黑边后进行补帧，补完帧后把黑边自动加回来。

<div align=center>
<img src="/Statics/UserGuide/17.png"  width=300>
</div>
<div align=center>
<img src="/Statics/UserGuide/18.png"  width=300>
</div>

- 使用AI超分

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>使视频画面更清晰，目前支持**realCUGAN, realESRGAN，Anime4K，waifu2x，waifuCuda**等超分算法。

<div align=center>
<img src="/Statics/UserGuide/19.png"  width=300>
</div>

## 对超分模型的介绍（速度标签越大越快，质量标签越大越好）

>realCUGAN  动漫专用 效果十分优秀 (速度2，质量3)

>realESRGAN 3D/2D  在动漫上表现较好 (速度非常慢)  (速度0.5，质量2.5)

>waifu2x更适用于2D动漫输入 (速度较快) (经典超分算法) (速度5，质量1.5)

>waifuCuda 动漫专用 (效果强，速度比waifu2x慢) (速度2，质量2.5)

>Anime4K 动漫用 (速度超级快)(速度10，质量1.2) 

- **realCUGAN**

>pro模型为增强版(具体看官方介绍ailab/Real-CUGAN at main · bilibili/ailab (github.com))

>带conservative字样的模型是保守类

>带no-denoise的模型表现不进行降噪

>带denoise的模型表现进行降噪,后面的数字代表降噪强度

>up2x代表2倍放大，3x,4x类似

- **ncnnCUGAN**

>CUGAN的NCNN版本(A卡，N卡，I卡通用)，介绍同上

- **waifuCuda**

>目前仅一个模型,适用于动漫输入

- **realESR**

>RealESRGAN模型倾向于脑补,画面更加清晰,艳丽

>RealESRNet模型倾向于涂抹,但画面保持原色彩 

>带anime标注的模型为动漫超分专用，速度较前两者略快 

>anime为官方模型，anime_110k为自训练模型

>RealESR_RFDN 为自训练超分模型,速度快,适合于动漫输入

- **Anime4K**

>默认使用Anime4K_Upscale_x2_A就行

- **waifu2x**

>cunet模型用于动漫超分 

>photo模型用于实拍

>anime用于动漫超分

- 负载显卡

>指定使用哪一张显卡进行超分

- 超分算法

>选择超分使用的算法

- 超分模型倍数:

>当前选择的模型的超分倍数

- 转移分辨率比

>先按用户设置的百分比缩放原视频,之后再进行超分。

>**例:原视频1920x1080，转移分辨率比50%， 模型放大倍数4x**

>运行过程: 1920x1080 ->960x540(下缩放) ->3840x2160(超分辨率)

- RealCUGAN切割模式(realCUGAN专用)(切的越多越剩显存)

>No Tile:不使用切割

>1/2 on Width: 横向一分为二

>1/2 on both W and H: 横纵各一分为二

>1/3 on w & h: 横纵各切三份

>1/4 on w & h: 横纵各切四份

- RealCUGAN低显存模式(realCUGAN专用)(显卡显存不足时使用)

>None: 不使用低显存模式

>Low VRAM Mode: 启用低显存模式

- 切割块大小(使用realCUGAN时不建议开启)

>有为显存大小制定的预设，也可以选择自定义调节

<div align=center>
<img src="/Statics/UserGuide/20.png"  width=300>
</div>

- 超分使用半精度

>推荐开启，可大幅度减小显存占用，对画面质量影响较小。 (但对于nVidia家10xx系列Pascal架构的显卡会减慢超分速度)

- TTA(仅ncnnCUGAN具有该功能): 牺牲大量的速度，小幅度提升画质

## 输出质量设置（压制参数质量）

<div align=center>
<img src="/Statics/UserGuide/21.png"  width=300>
</div>

<div align=center>
<img src="/Statics/UserGuide/22.png"  width=300>
</div>

- 渲染质量CRF

>用于调整视频导出时的质量亏损， 与**输出码率呈正相关**。使用不同压制编码和压制预设均会对CRF产生影响。

**CRF数值参数一般为16**，此时肉眼无损；对于H.265编码，码率会有明显下降。**请以肉眼所见画面质量来评定CRF数值大小是否合理。**
如果是作为**收藏CRF数值参数可设为12**。**CRF的数值越小，操作过程之后对画面损失就越小，同时导出的成品视频体积（码率）越大。**

  **注意：相同数值，不同编码器的输出质量不同**

- 目标码率

>作为替代渲染质量CRF的可选项，和PR，AE ，DaVinci Resolve的设置标准基本相同

- 编码器

  - **AUTO**
  根据软件下方的滑动条自动决定编码器选项
  - **CPU**
  选择此项压制，**质量最高，但CPU占用率也最高**。**CPU的性能优劣**决定补帧或超分过程中是否会阻塞（导致显卡占用下降），以及最后操作完成的**时间长短**。
  - **NVENC**
  此项仅供**支持NVENC功能的NVIDIA显卡**选用，如果您的显卡并**不支持NVENC功能请不要选择此项**。
  请自行查阅安装目录下的NVIDIA NVENC Gen.pdf查阅自己的显卡是否支持NVENC
  - **VCE**
  此项仅**供支持VCE功能的AMD显卡**选用，如果您的显卡并**不支持VCE功能请不要选择此项**。
  - **QSV**
  此项仅支持有**Intel核显**的用户选用(例如Intel UHD 630、IrisPro 580)，非此类用户不要选用。

  ::: tip
  以下编码器需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
  :::

  - **NVENCC**
  **NVENCC**为**NVENC**的优化版本，处理速度更快，作品质量更好。
  - **QSVENCC**
  **QSVENCC**为**QSV**的优化版本，完成任务的效率更高。
  - **VCENCC**
  **VCENCC**为**VCE**的优化版本，完成任务的效率更高。

感性对比：
|编码器|	使用硬件|	速度| 	质量|	文件大小|	选择建议|
|---|---|---|---|---|---|
|CPU	|CPU	|中|	高|	中|	追求画质和编码稳定性以及A卡用户AU用户选择|
|NVENC|	N卡|	快|	中|	大|	追求速度和质量并重，对大小不太敏感的用户选择|
|QSV|	Intel核显|	慢|	低|	小|	



- 选择压制编码

>对于此项功能的选择，需要您具备一定的**视频压制常识**。

::: warning 如您不熟悉压制，请您谨记以下规则：

- HDR输出务必选择**H.265 10bit**编码
- 2K以上分辨率务必选择 **H.265** 编码（尤其是4K，8K分辨率）
- 如果H.264、H.265编码均出现问题，使用**ProRes**编码。此编码输出最贴近肉眼无损，码率极大，是用于剪辑工作的中间编码格式。
- 推荐使用H.265 fast编码或ProRes编码
:::

- 选择压制预设

>CPU: 英文含义**速度越快的作品质量越低，反之质量越高**。

>NVENC: 建议无脑选p7

>QSV: 直接选slow

>VCE: 直接选quality

>NVENCC: 直接选quality

>QSVENCC: 直接选best

>VCENCC: 直接选slow

- N卡硬编预设

>选择NVENC编码器时, N卡硬编预设可在画面质量不变的情况下，缩小导出视频体积，需要查询自己的N卡是第几代NVENC压制芯片，超过7th直接选7th+ 

- 默认压制方案

>使用传统的压制方案, 兼容性强, 导出视频体积可能会增大。

:::tip
启用此功能可以解决大多数broken pipe问题。
:::

- 音频二压为AAC

>对音频进行重编码(一般在上传平台的视频上用)
将视频中的所有音频轨道压制为**640kbps的aac格式**。

- 源HDR(原视频的HDR属性)
  - **Auto**
  自动识别(检测到HDR内容会自动切换到CPU压制)。
  - **Custom HDR**
  自定义HDR （不会写入HDR源数据）。
  - **HDR10**
  基本， 普及的HDR格式。
  - **HDR10+**
  HDR10+（仅支持按补帧倍率补帧，不能自定义输出帧率）。
  - **Dolby Vision**
  杜比视界 （仅支持按补帧倍率补帧，不能自定义输出帧率）。
  - **HLG**
  索尼新科技（便携HDR工作流程）。

- 一键HDR: 将SDR视频转换为HDR10+

>四种一键HDR模式需要自行尝试效果

## 解码质量控制

- 硬件解码

>可以减轻大分辨率视频解码压力，但可能会在一定程度上**降低画面质量**，并在显存紧张时导致补帧模块**爆显存**。

- 快速拆帧

>快速拆帧操作可以**减轻解码压力**，但可能会**导致画面色彩出现偏差**。

- 高精度优化工作流

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>若CPU性能过剩，建议您开启此项功能，可**解决多数画面颜色偏差问题**，并可最大程度解决HDR视频压制产生的色偏问题。此功能会**加大CPU负担**，甚至影响补帧速度。
超分工作开启此功能将会**关闭半精度**(所需要的显存更大)。请您**酌情选择**。

- 开启反交错

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>使用**ffmpeg**对输入的**交错视频**进行反交错处理。

- 快速降噪

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>此栏目下的“快速”选项如果不是特殊需要，请保持关闭，否则会**减缓任务处理速度**。

::: tip
推荐自行控制变量试验此选项是否对画面质量提升有帮助。

与高精度优化工作流不兼容
:::

## 自定义编码设置

- 指定编码线程数

>编码器为CPU时，有几率控制CPU占用率以控制渲染速度 。

- 自定义压制参数

>此功能为专业选项（注意输入项数必须为**偶数**），一般填写格式：-x265-params||ref=4:me=3:subme=4:rd=4:merange=38:rdoq-level=2:rc-lookahead=40:scenecut=40:strong-intra-smoothing=0

- 时间重映射: 改变视频的速度

::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>此功能用于制作“慢动作”素材。

>例如设置输出帧率为120帧，时间重映射设置为60帧，输出效果等同于50%**播放速度慢放**。

>其他情况依次类推，您可以自己设置输出帧率，**支持小数**。

  **（动漫素材请尽可能在**除去重复帧中开启一拍三去重**或者用Premiere等软件降低原视频的帧率来完成重复帧的去除，以避免重映射后卡顿。原视频帧率一般降低到8或12帧）**

## IO控制

<div align=center>
<img src="/Statics/UserGuide/23.png"  width=300>
</div>

- 手动指定缓冲区内存大小

>若运行内存紧张（16G以下），建议**手动指定缓冲区内存的大小**为2-3G避免**爆内存(out of memory)**错误。

- 单一输出区块大小

>对于补帧和压制任务，每渲染数量为该值的帧，将输出一个不带音频的小片段，以方便您**预览效果**。
片段会生成在您设置的输出文件夹中，**并在补帧或压制任务完成后合并为一个文件**。

- 任务完成后保留项目文件夹

>补帧完成后**不删除中间生成的chunk视频**。

## 补帧设置

- **安全帧率**

>如果视频要上传到相应媒体平台上在线观看，请开启此项

- **反向光流**
  
>该功能可使画面在一定程度上**更加丝滑**。

- **绝对流畅**
  
>该功能可能使画面**更加丝滑**，默认开启就行(不可用时软件运行时不会启用)

- **光流尺度**
  
>原视频尺寸为1080P时，默认开0.5，4K以及以上开0.25，小于1080P开1.0

- **交错补帧**
  
>相当于特殊的切割(降低画质,减少显存占用)

> 恰当选择此项可以让小显存显卡补超大分辨率（如4G补8K）

- **负载显卡**
  
>指定使用哪张显卡进行补帧

- **补帧算法**
  
>选择使用的补帧算法(包括RIFE,EISAI,IFUNet,IFRNet,DAIN,SoftSplat)

- **补帧模型**（速度标签越大越快，质量数字越大越好）

::: tip
带有`ncnn`字样的模型使用[ncnn](https://github.com/Tencent/ncnn)作为前向推理框架，其兼容N卡及A卡，不带有此字样的模型无法用于A卡及核显。
:::

 - rife

 >2.3: 速度5，质量10

 >3.8(一定要开双向光流): 速度4，质量8

 >4.0(rife第一个支持任意时刻的模型,以下模型相同): 速度10，质量4.5

 >4.1: 速度7，质量4

 >4.2: 速度10，质量5.5

 >rpr_v7_1.0: 速度6，质量7

 >rpr_v7_2.3: 速度2.5，质量8

 >rpr_v7_2.3_ultra: 速度2，质量9.5-10

 >rpr_v7_2.3_ultra#2: 速度1，质量9.5-10

 - ncnn-rife

 >rife-v2.4: 速度15，质量9.5

 >rife-v3.1: 速度16，质量未知，不建议用

 >rife-v4(支持任意时刻): 速度20，质量4.5

 - IFUNet(动漫模型)(质量待定)(支持任意时刻)

 >Baseline: 速度2

 >Best: 速度1

 >FT2: 速度1

 - IFRNet(实拍&动漫模型)(速度2.5 - 7)(质量待定)

 >IFRNet

 >IFRNet_large

 >IFRNet_small

 - EISAI(动漫补帧算法):仅一个模型，速度1，质量待定

 - ncnn_dain(传统老算法,动漫实拍均可用)(支持任意时刻):速度0.1，质量8，流畅度很高

 - Softsplat(实验性新算法)(支持任意时刻)(补几倍帧率耗时都基本相同)

 >Baseline:不建议用

 >Finetuned:建议用

- **TTA模式**
  
::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>开启该功能可以**减少画面果冻，减小字幕抖动，减弱物体消失的问题**。使得画面更加**平滑舒适**

>**需要额外消耗补帧时间，同时部分补帧模型不支持此功能**。

>后面的数字填的越大越慢，果冻越少，一般填1或者2就行了

>侧向，适合rife，3.x系列模型

>中向，适合rife，2.x系列模型

- 输出层微调模式 (仅实验性模型可使用)

>residual: 会让画面模糊一些，但结构更完整

>direct: 直接输出，画面清晰些
  
- **双向光流**

>速度降低一半左右，效果有些许提升(rife 3.8模型一定要开)(rife 4.x模型暂不支持)。
  
- **动态光流尺度**
  
::: tip
此功能需购买[专业版DLC](https://store.steampowered.com/app/1718750/SVFI_Professional/)
:::

>在补帧过程中动态选择光流尺度，可减少物体消失问题以及减少果冻，建议开启。

## NCNN参数

- 补帧线程数

>默认填1就行，有几率加速，但不建议开

## 自定义预设栏 

- 基于当前设置新建预设: 在给预设取个名字之后点击即可新建预设 

- 移除当前预设: 删除当前选中的预设 

- 应用指定预设: 加载之前保存的预设，自动载入参数 

## 工具箱

- 视频转换 GIF 动图

>生成高质量的 GIF 动图 

- 循环动图

>默认打开就行 

- 合并已有区块

>将散落的chunk片段合并 

- 音视频合并

>填入视频的完整路径(例:D:\01\myvideo.mp4)

>填入视频的音频路径(例:D:\01\myvideo.aac)

>或者使用一个视频来输入音频(例:D:\01\otherVideo.mp4)

>输出视频路径(例:D:\01\output.mp4)

- 导出当前设置到文本文档

>导出设置信息

- Debug

>调试模式(会输出更多信息)

## 标题栏上的功能(除了需要特别讲的自己看下就明白了)

<div align=center>
<img src="/Statics/UserGuide/24.png"  width=300>
</div>

### 设置-偏好设置

- 多任务休息间隔

>每隔 X 小时让设备休息一下（短暂暂停任务）   

- 选择缓存文件夹

>与图中标注一样

- 补帧任务完成后

>可以选择一些补帧完成后的自动操作   

- 不可用功能

>强制使用 CPU 进行补帧超分（已弃用）   

- 开启专家模式 

>默认开启,显示全部功能   

- 开启任务前参数文本预览

>点启动补帧之前会先弹出弹框，可以浏览一遍确定参数设置正确后进行补帧或超分   

- 任务完成后清空任务列表

>列表中所有任务完成后清理队列   

- 使用全局设置

>对所有任务进行统一参数设置   

- 鲁莽的退出

>默认开启，强制结束软件进程(若关闭软件后发现扔存在显存占用则建议开启此项)

- 原味压制模式

>单独对任务进行压制时，不开启重复帧去重等操作

- 开启预览

>补帧时开启预览窗口，会一定程度上降低程序运行速度

- 自动纠错

>自动修改设置来防止部分报错

- 开启安静模式

>软件启动时不启动黑色窗口(无效功能)

- Test Mode(Experiment)

>无效功能

- 窗口置顶

>将窗口置于顶层(无效功能)
