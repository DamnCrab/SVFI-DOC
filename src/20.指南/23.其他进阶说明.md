---
title: 其他进阶说明
permalink: /pages/other-advanced-settings/
---

## 进度条参数说明

任务执行过程中，任务输出面板中的进度参数意义如下：

| 缩写   | 解释                                  |
|--------|---------------------------------------|
| R      | 当前渲染的帧数                        |
| C      | 当前补帧或处理中的帧数                |
| RPT    | ReadProcessTime单帧读取处理时间      |
| WPT   | WriteProcessTime单帧压制处理时间      |
| S      | 最近识别到的转场                      |
| SC     | 识别到的转场数量                      |
| TAT    | TaskAcquireTime单次补帧任务获取时间  |
| PT     | ProcessTime单次补帧任务处理时间      |
| QL     | QueueLength补帧任务队列长度          |
| SR     | 当前正在超分的帧数                    |
| SRTAT  | SuperResolutionTaskAquireTime单次超分任务获取时间 |
| SRPT   | SuperResolutionProcessTime单次超分任务处理时间 |
| SRL    | SuperResolutionQueueLength超分任务队列长度 |

### 对于进度条参数的特别说明

- 在6.x及以上版本中，输出状态面板的“解码”与“压制压力”面板将会展示当前的解码与压制压力。当解码压力与压制压力都为0时，说明当前没有遭遇性能瓶颈，是最佳状态。解码压力与压制压力的值越大，说明当前遭遇的瓶颈越严重。<Badge text="注"/>该值在使用多补帧或超分线程时不准确。

- 未超分仅补帧时，QL值长期维持在10以下说明**拆帧遇到瓶颈，此时TAT>0.1**，请检查CPU占用是否100%，如是，请更换CPU软编压制参数（如压制预设从slow改为fast），或更换单核性能更强的CPU。若未开启**快速拆帧**，且RPT数值较大（>10s），请开启**快速拆帧**以减轻CPU负荷。开启高精度工作流且为CPU压制时，若CPU不够强劲，QL=0为正常现象。

- 既超分又补帧时，QL=0，TAT>1为正常现象，尽量保证**SRL>0**，SRTAT以使显卡达到最大工作效率，因为SVFI先超分后补帧，原因同上

- TAT(SRTAT)值为0，且QL(SRL)值稳定在较高的值，说明工作速度瓶颈主要在显卡性能，此状态能最大程度发挥显卡性能，**为理想的工作情况。**

## 额外的全局设置

<Badge text="注"/> 当前全局设置对应版本为SVFI 6.15.9

该类全局设置通过在软件根目录下的`global_advanced_settings.json`文件（简称`GAS`）中进行设置，可通过文本编辑器打开进行编辑。**默认情况下，该文件需要手动创建。**

以下是所有配置示例，键值对的值为缺省值，可以直接复制以下内容并编辑作为自己的GAS文件。

实际编辑该json文件时，不存在的键对应的值使用缺省值：

```json
{
  "is_cudnn_enabled": true,
  "trt_max_workspace_size": 1073741824,
  "calib_sr_len": 750,
  "is_cuda_graph_enabled": false,
  "is_torchscript_enabled": false,
  "is_cuda_loading_lazy": true,
  "is_torch_trt_io32": false,
  "is_rife_trtexec_prec_obey": false,
  "show_trt_debug": false,

  "debug_scdet": false,
  "fmnet_model": "final",
  "deep_deband_model": "deepdeband-f.pth",
  "sisr_state_dict_key": "params",

  "pure_scene_len_threshold": 20,

  "use_minterpolate": false,
  "vfi_use_pad": false,
  "forw_dedup_use_pad": false,
  "forw_dedup_use_correction": false,
  "use_full_vspipe_seg": true,

  "is_softsplat_stable": false,
  "is_softsplat_gaussian": false,
  "is_evict_flicker": false,
  "use_xformers": true,
  "drba_swap_thres": 1.0,
  
  "torch_inference_mode": false,

  "cv2_inter": "cubic",

  "encoded_audio_format": "aac",
  "encoded_audio_bitrate": "640k",

  "custom_encoding": "utf-8",
  "gui_scan_interval": 10
}
```

| 键名   | 解释                                  |
|--------|---------------------------------------|
| is_cudnn_enabled | 是否启用cudnn加速 |
| trt_max_workspace_size | TensorRT最大工作空间大小，单位为bit。在使用vspipe进行超分时，不生效，需要手动更改`vspipe.py`的工作空间大小 |
| calib_sr_len | TensorRT在使用int8量化时的校准次数 |
| is_cuda_graph_enabled | 是否对支持的模型启用CUDA Graph加速 |
| is_torchscript_enabled | 是否对支持的模型启用TorchScript模式 |
| is_cuda_loading_lazy | TensorRT是否启用懒加载模式，可减轻显存占用 |
| is_torch_trt_io32 | torch trt使用fp32作为trt输入输出，开启后可显著减小rife trt在前进去重后导致的锯齿 |
| is_rife_trtexec_prec_obey | 是否使用RIFE trtexec的精度约束，如开启，则添加部分层参数范围约束以避免可能的画面问题 |
| show_trt_debug | 是否显示TensorRT调试信息 |
| debug_scdet | 是否显示场景检测的调试信息 |
| fmnet_model | 使用的FMNet模型，位于`models/restorer/FMNet/models` |
| deep_deband_model | 使用的DeepDeband模型，位于`models/restorer/DeepDeband/models` |
| sisr_state_dict_key | 使用的自定义SISR模型权重键，适用于ATD、SAFMN、SPAN、Compact模型结构 |
| use_minterpolate | 使用ffmpeg读取视频时是否使用`minterpolate`滤镜，有时可以开启以纠正结尾帧数量 |
| pure_scene_len_threshold | 纯场景长度阈值 |
| vfi_use_pad | 补帧流程使用pad而不是interpolate进行输入分辨率预处理 |
| forw_dedup_use_pad | 前进消重使用pad而不是interpolate进行输入分辨率预处理 |
| forw_dedup_use_correction | 前进消重使用校正 |
| use_full_vspipe_seg | 使用全vspipe工作流时自动拆分输出chunk以支持任务进度回复 |
| is_softsplat_stable | 是否启用SoftSplat稳定支持 |
| is_softsplat_gaussian | 是否启用SoftSplat高斯核支持 |
| is_evict_flicker | 是否启用去闪烁 |
| use_xformers | 默认使用xformer加速某些模型的推理 |
| drba_swap_thres | DRBA 交换阈值，取值(0,1) |
| torch_inference_mode | 是否使用torch.inference_mode()加速推理 |
| cv2_inter | 使用的cv2插值方法，可选值：`nearest`、`linear`、`cubic`、`area`、`lanczos` |
| encoded_audio_format | 输出音频格式 |
| encoded_audio_bitrate | 输出音频码率 |
| custom_encoding | 自定义输出日志显示的编码格式，如`utf-8`、`gbk`等 |
| gui_scan_interval | 监控文件夹扫描间隔，单位为秒 |

## 快捷键

### 主页面

| 快捷键   | 解释                                  |
|--------|---------------------------------------|
| <kbd>Ctrl</kbd>+<kbd>1</kbd> | 打开设置面板 |
| <kbd>Ctrl</kbd>+<kbd>2</kbd> | 打开预览面板 |
| <kbd>Ctrl</kbd>+<kbd>3</kbd> | 打开输出状态面板 |
| <kbd>Ctrl</kbd>+<kbd>4</kbd> | 打开Steam设置面板 |
| <kbd>Ctrl</kbd>+<kbd>5</kbd> | 打开偏好设置面板 |
| <kbd>Backspace</kbd> | 返回上一页 |
| <kbd>Ctrl</kbd>+<kbd>B</kbd> | 打开基础设置面板 |
| <kbd>Ctrl</kbd>+<kbd>A</kbd> | 打开高级设置面板 |
| <kbd>Ctrl</kbd>+<kbd>P</kbd> | 显示/隐藏高级设置面板 |
| <kbd>Ctrl</kbd>+<kbd>S</kbd> | 保存当前设置 |
| <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>L</kbd> 或  <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>L</kbd>| 加载默认设置 |
| <kbd>Ctrl</kbd>+<kbd>D</kbd> | 复制当前项目 |
| <kbd>Delete</kbd> | 删除当前项目 |
| <kbd>Ctrl</kbd>+<kbd>Delete</kbd> | 清空项目列表 |
| <kbd>Ctrl</kbd>+<kbd>I</kbd> | 导入项目 |
| <kbd>Ctrl</kbd>+<kbd>Return</kbd> | 开始补帧 |
| <kbd>Ctrl</kbd>+<kbd>E</kbd> | 开始压制 |

- 按住 <kbd>Ctrl</kbd> 拖入文件夹会使SVFI自动导入该文件夹下的所有视频文件
- 按住 <kbd>Shift</kbd> 拖入文件夹会使SVFI将该文件夹作为监视文件夹导入

### 任务状态页面

| 快捷键   | 解释                                  |
|--------|---------------------------------------|
| <kbd>Ctrl</kbd>+<kbd>End</kbd> | 停止补帧/压制 |
| <kbd>Ctrl</kbd>+<kbd>Space</kbd> | 暂停补帧/压制 |

### 蒙版绘制页面

| 快捷键   | 解释                                  |
|--------|---------------------------------------|
| <kbd>Ctrl</kbd>+<kbd>Z</kbd> | 撤销 |
| <kbd>Ctrl</kbd>+<kbd>R</kbd> | 重做 |

### 播放器组件

| 快捷键   | 解释                                  |
|--------|---------------------------------------|
| <kbd>Space</kbd> | 播放/暂停 |
| <kbd>Right</kbd> | 快进 |
| <kbd>Left</kbd> | 快退 |
